!function(r){var n={};function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=r,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var r=void 0,t=document.querySelector(".login-form__password-error"),n=function(e,t){e.classList.add("js-invalid"),e.classList.remove("js-checked"),i.classList.add("js-active"),a.textContent=t,r=!1},s=function(e){e.classList.add("js-checked"),e.classList.remove("js-invalid"),i.classList.remove("js-active"),r=!0};if(e.value)switch(e.getAttribute("name")){case"email":/^([\w-.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e.value)?s(e):n(e,o.email);break;case"password":e.value.length<4?(n(e,o.password),t.classList.add("js-active")):(s(e),t.classList.remove("js-active"));break;case"checkbox":e.checked?n(e,o.agreenment):s(e);break;default:console.error("No Inputs found")}else e.classList.remove("js-invalid","js-checked"),t.classList.remove("js-active"),i.classList.remove("js-active"),r=!1;return r};var o=t.errorMessage={email:"Указанный Вами e-mail имеет неверный формат",password:"Пароль должен быть не менее 4 символов",agreenment:"Вы должны принять соглашение",network:"Подключение к интернету нарушено",error:"Произошла ошибка на сервере",success:"Регистрация прошла успешно, проверьте почту"},a=t.errorInputText=document.querySelector(".login-form__error-text"),i=t.errorPopup=document.querySelector(".login-form__error")},function(e,t,r){"use strict";var n=a(r(2)),s=a(r(4)),o=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}if(0<document.getElementsByClassName("index-form").length){(0,s.default)();var i=document.querySelector(".index-form"),u=(0,n.default)();i.addEventListener("submit",function(e){e.preventDefault(),(0,s.default)().animInit(u)}),i.addEventListener("blur",function(e){return(0,o.default)(e.target)},!0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var a=document.querySelector(".index-form"),n=a.getElementsByClassName("login-form__input");function e(){var s,o,e=[].map.call(n,function(e){return(0,u.default)(e)});if(e.every(function(e){return e})){for(var t={},r=0;r<n.length;r++)"email"===n[r].getAttribute("name")&&(t.email=n[r].value),"password"===n[r].getAttribute("name")&&(t.password=n[r].value),"checkbox"===n[r].getAttribute("name")&&(t.agreenment=n[r].checked);t.currency=(0,c.default)(),(s="http://localhost:55800/send-mail",o=t,new Promise(function(e,t){var r=new XMLHttpRequest,n=JSON.stringify(o);r.open("POST",s,!0),r.setRequestHeader("Content-Type","application/json"),r.addEventListener("load",function(){r.status<400?e(i.errorMessage.success):(i.errorInputText.textContent=i.errorMessage.error,i.errorPopup.classList.add("js-active"),t(i.errorMessage.error))}),r.addEventListener("error",function(){t(i.errorMessage.network)}),r.send(n),a.reset()})).then(function(e){i.errorInputText.textContent=e,i.errorPopup.classList.add("js-active","js-success")},function(e){i.errorInputText.textContent=e,i.errorPopup.classList.add("js-active")})}}return{submitInit:function(){e()}}};var i=r(0),u=n(i),c=n(r(3));function n(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=void 0,t=document.getElementsByName("currency"),r=0;r<t.length;r++)t[r].checked&&(e=t[r].value);return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.getElementsByClassName("login-form__submit-btn");function t(e){var t=document.createElement("div"),r=Math.max(this.clientWidth,this.clientHeight),n=this.getBoundingClientRect(),s=t.style,o=[r+"px",r+"px"];s.width=o[0],s.height=o[1],s.left=e.clientX-n.left-r/2+"px",s.top=e.clientY-n.top-r/2+"px",t.classList.add("pulse"),this.appendChild(t)}return[].forEach.call(e,function(e){e.addEventListener("click",t)}),{animInit:function(e){e.submitInit()}}}}]);